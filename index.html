<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>noe_lao thumbnail</title>
    <style>

    </style>
</head>
<body>
    <h1>kuku jempol malas ngedit rajin ngoding</h1>
    <h2>tugas: </h2>
    <img src="asset/image/gear_hero/barking/Earthquake_Boots.webp" alt="">
    <ul>
        <li>mencaari foto hero-hero di coc, berskin dan tidak berskin</li>
        <li>mengumpulkan aset foto gear hero coc</li>
    </ul>

    <div class="contentAsli">
        <select name="hero" id="barking">
            <option value="ini">rage</option>
            <option value="ini">gempa</option>
        </select>

        <!-- buat ini di js -->
    </div>

<script>
    async function fetchApiGearHero() {
        let data = {};
        try {
            // Melakukan fetch ke path relatif
            const response = await fetch("api_asset_gearHero.json");

            if (!response.ok) {
                // Melemparkan error jika status HTTP bukan 200-299
                throw new Error(`Gagal memuat file: ${response.statusText}`);
            }

            // Mengubah respons menjadi objek JavaScript
            data = await response.json(); 
            
            Object.keys(data).forEach(folderName => {
                const fileList = data[folderName];

                console.log(`\nFolder saat ini: ${folderName}`);
            });
            
        } catch (error) {
            console.error("Kesalahan Fetch API:", error);
        } finally {
            const wadah = document.querySelector(".contentAsli");

            
            const namaHero = Object.keys(data).map(ini => {
                return ini;
            }).join(",").split(",");
            console.log(namaHero);
            
            namaHero.forEach((ini, i) => {
                if(i >= 1){
                    const bagian = document.createElement("div");
                    bagian.className = "hero";

                    const selectElement = document.createElement("select");
                    selectElement.className = "heroyang"
                    
                    const selectGear = document.createElement("select");
                    selectGear.className = "gear"
                    
                    
                    namaHero.forEach(ini2 => {
                        const optionElement = document.createElement("option");
                        optionElement.value = ini2;
                        optionElement.textContent = ini2;
                        selectElement.appendChild(optionElement);
                    });
                    data[ini].forEach(ini2 => {
                        const namaGear = document.createElement('option');
                        namaGear.value = ini2;
                        namaGear.textContent = ini2;
                        selectGear.appendChild(namaGear);
                    })

                    bagian.appendChild(selectElement);
                    bagian.appendChild(selectGear);
                    wadah.appendChild(bagian);
                }
            })

        }
    }

    fetchApiGearHero();
</script>


</body>
</html>